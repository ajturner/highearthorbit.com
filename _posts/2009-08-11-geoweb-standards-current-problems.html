---
layout: post
status: publish
published: true
title: GeoWeb Standards - Current Problems
author:
  display_name: Andrew
  login: admin
  email: andrew@highearthorbit.com
  url: http://highearthorbit.com
author_login: admin
author_email: andrew@highearthorbit.com
author_url: http://highearthorbit.com
wordpress_id: 1277
wordpress_url: http://highearthorbit.com/geoweb-standards-current-problems/
date: '2009-08-11 18:07:42 -0400'
date_gmt: '2009-08-11 22:07:42 -0400'
categories:
- Neogeography
- Standards
tags:
- Neogeography
comments:
- id: 268419
  author: Patrick Meier
  author_email: patrick.meier@tufts.edu
  author_url: http://irevolution.wordpress.com
  date: '2009-08-11 19:04:37 -0400'
  date_gmt: '2009-08-11 23:04:37 -0400'
  content: Awesome post and excellent points!
- id: 268428
  author: Mano Marks
  author_email: mmarks@google.com
  author_url: http://code.google.com
  date: '2009-08-11 21:02:23 -0400'
  date_gmt: '2009-08-12 01:02:23 -0400'
  content: "Awesome post, as usually Andrew!\r\n\r\nOne thing I keep coming back to
    is the example of the HTML Web. There was no middle ground in the HTML Web. XML
    was supposed to be that but HTML + JavaScript remain the mainstays of web pages.
    Complexity was added gradually, not in a single file format.\r\n\r\nNow, it remains
    to be seen if the HTML experience is one that is a useful model, or if we can
    actually learn from those mistakes."
- id: 268434
  author: Andrew Turner
  author_email: ajturner@highearthorbit.com
  author_url: http://highearthorbit.com
  date: '2009-08-11 21:46:46 -0400'
  date_gmt: '2009-08-12 01:46:46 -0400'
  content: "Thanks Patrick &amp; Mano - I appreciate the feedback.\r\n\r\nand Mano
    - I agree that HTML has been interesting. HTML is very simple - but Javascript
    gives it a varying complexity that was missing. I can add behaviors and complex
    relationships between DOM elements using JS. And then you add CSS for styling,
    embeddable Flash/Silverlight/Canvas, and you actually have a very wide-ranging
    set of 'standards' that let developers do everything from a simple \"My Homepage!\",
    to blogs, to web applications that all render in browsers.\r\n\r\nWhat really
    made these all work was the browser - a common tool that most users didn't have
    to care about what format/technology was using, yet developers settled on
    common standards to get broad browser support (goodbye ActiveX!)\r\n\r\nThe processing
    concept is particularly interesting - Javascript having been the quiet giant for
    many years, but not HTML5 actually offering workers and other processing pieces.
    Do GeoWeb formats need something similar?"
- id: 268436
  author: Kate Chapman
  author_email: kate@maploser.com
  author_url: http://www.maploser.com
  date: '2009-08-11 21:49:27 -0400'
  date_gmt: '2009-08-12 01:49:27 -0400'
  content: "Normally I would take offense to someone pointing out flaws in my boyfriend
    JSON, but you have a valid point.  Though if you do a comparison of KML to JSON
    with point level data then JSON is far superior in file size. \r\n\r\nI did a
    quick test of point data in Finder: http://finder.geocommons.com/overlays/14326
    and KML was 4.8MB compared to 1.1 MB in JSON.  I guess all those brackets take
    up space when you are doing complex geometries though."
- id: 268478
  author: Brian Flood
  author_email: bFlood@spatialdatalogic.com
  author_url: http://www.spatialdatalogic.com/CS/blogs/brian_flood
  date: '2009-08-12 06:58:04 -0400'
  date_gmt: '2009-08-12 10:58:04 -0400'
  content: Great article Andrew!
- id: 268502
  author: Mojo
  author_email: anon@anonymous.com
  author_url: ''
  date: '2009-08-12 09:52:40 -0400'
  date_gmt: '2009-08-12 13:52:40 -0400'
  content: "A few years ago it seemed there was lots of talk about geobrowsers, but
    most of them took the form of thick client apps like Google, Earth, WorldWind,
    AGX, etc.  The predominant trend, though, is having geo in the browser vs a geobrowser.
    \ I think whatever the common tool is it will need to reside in the browser natively.
    \ Goes back your sentiment that \"geo shouldn't be that special\".
    \r\n\r\nSo what is the common tool that resides in the browser that could link
    to a MIME type to open any of the current standards or the mythical middle standard.
    \ So when the browser detects a KML, GeoRSS etc. file what would it enable?  Seems
    it would be a big map provider cage match - proprietary Google, Bing, Yahoo, ESRI
    - open source OpenLayers, ModestMaps, MapGuide.  It is the KML MIME type issues
    multiplied.\r\n\r\nI download Google Earth and my KML opens there.  Then I download
    ESRI's AGX and it changes the MIME type so my KML opens there.  Except now I'm
    not downloading anything, the app is resident in the browser.  So is it Google
    cutting a deal with Firefox and making it default in Chrome.  IE* would obviously
    be Bing and I guess Safari would be up for grabs till Apple cut a deal or did
    their own.  All this seems to move away from the idea of open standards and towards
    vendor lock-in.  Maybe I'm misinterpreting the common tool concept entirely but
    to play devil's advocate there appear to be dragons in yonder ocean."
- id: 268521
  author: Sean Gillies
  author_email: sean.gillies@gmail.com
  author_url: http://sgillies.net
  date: '2009-08-12 12:20:21 -0400'
  date_gmt: '2009-08-12 16:20:21 -0400'
  content: 'Andrew, Mano: have you seen Joe Gregorio''s post about "code on demand":
    http://bitworking.org/news/355/code-on-demand-rest-and-cloud-computing?
    I think KML could benefit from javascript (or the like, but why not just javascript?)
    as much as HTML has.'
- id: 268525
  author: Mano Marks
  author_email: mmarks@google.com
  author_url: http://code.google.com
  date: '2009-08-12 12:36:05 -0400'
  date_gmt: '2009-08-12 16:36:05 -0400'
  content: "Sean:\r\n\r\nI think there's a tension between trying to get format X
    to do everything and bolting on a technology that is specialized for doing it.
    It certainly has come up, this idea of allowing JS in KML. I think at this point
    there are two drags on that:\r\n\r\n1) The lack of \"geo browsers\" which, as
    Mojo points out, today consists of only thick clients. Although much of that thickness
    comes from the imagery downloads, of course. Better integration with browsers
    would help (Google Earth Plugin maybe?)\r\n\r\n2) The lack of standardization
    among geo browsers. Right now, Google Earth is the gold standard of how KML is
    rendered. Ideally, like a standard web browser, all browsers would support all
    tags, even if there's some variation among how they implement. Bolting on an additional
    technology would slow that standardization down even more, and if you think the
    discussions on how IE and FF differ in JS engines, just wait for the geo browser
    wars.\r\n\r\nThe Google Earth API can be seen as an alternative. It is essentially
    a JS implementation of KML. But it doesn't get at your point."
- id: 268540
  author: Andrew Turner
  author_email: ajturner@highearthorbit.com
  author_url: http://highearthorbit.com
  date: '2009-08-12 14:57:50 -0400'
  date_gmt: '2009-08-12 18:57:50 -0400'
  content: "Mano - interesting about your viewpoint. Google Earth is definitely pushing
    forward on very specific extensions to KML for 3D and photo overlay that will
    fracture generic \"geobrowser\" support across the board. :)\r\n\r\nThat was actually
    why I wanted to do modules, so everyone could do \"KML basic\" and maybe KML styling,
    but leave off on more complicated, solution specific extensions (kind of like
    \ or  tags in HTML).\r\n\r\nMojo - I agree there are going to be GeoBrowsers,
    and Browsers with Geo. MiniMap sidebar, a Firefox extension, is one of the better
    examples of this. I also wrote some <a href=\"http://highearthorbit.com/greaseroute-mapping-the-web/\"
    rel=\"nofollow\">GreaseMonkey scripts (GreaseRoute)</a> to pull up Adr markup
    and show MapQuest directions embedded in the page. You see the same thing happening
    even in things like Apple Mail or iCal that detect addresses and show a map."
- id: 268595
  author: Julia
  author_email: juliaharrell@mindspring.com
  author_url: ''
  date: '2009-08-12 23:58:45 -0400'
  date_gmt: '2009-08-13 03:58:45 -0400'
  content: "Chucking over that phrase from Mojo: \"a big map provider cage match\".
    \ Rooting for the open source underdogs on that one, not holding my breath though.
    Blue ain't my best color :(\r\n\r\nAndrew: How would you rate either the Poly9
    3d or Ptolemy 3d browser globes &amp; their APIs as candidates for widespread
    browser globe enablement? Poly9 would get a big ding for not being free/open,
    but aside from that..."
- id: 268610
  author: Jeff Thurston
  author_email: jeffthurston@vector1media.com
  author_url: http://www.vector1media.com/vectorone
  date: '2009-08-13 03:36:21 -0400'
  date_gmt: '2009-08-13 07:36:21 -0400'
  content: "Andrew,\r\n\r\nThanks for the excellent overview. \r\n\r\nI like your
    idea of modules. It is practical and follows the approach many GIS manufacturer's
    have pursued - namely the basic platform with modules added dependent upon complexity
    of user needs. It is a flexible approach and avoids all-in-one confusion. \r\n\r\nI
    guess if there was a GeoBrowser then spatial would be 'special' hmm?\r\n\r\nKeep
    up the good work."
- id: 268658
  author: Raj Singh
  author_email: raj@rajsingh.org
  author_url: http://rajsingh.org
  date: '2009-08-13 15:21:13 -0400'
  date_gmt: '2009-08-13 19:21:13 -0400'
  content: What about Atom Collections? I disagree that HTML is a good model to follow.
    Not enough structure in how to specify and organize information. It only works
    well because a few browser developers have built great software, and content developers
    have had decades of experience with it. I think Atom Collections (+ opensearch?)
    could be the answer given better software support and more use/experience
    on the part of content developers.
- id: 268772
  author: Andrew
  author_email: andrew@highearthorbit.com
  author_url: http://highearthorbit.com
  date: '2009-08-14 09:30:39 -0400'
  date_gmt: '2009-08-14 13:30:39 -0400'
  content: "Ah Raj - skipping to the end? \r\n\r\nThere are definitely arguments about
    why HTML has problems - but it's obviously been incredibly successful, and particularly
    for the reason that you and I agree on - common tools.\r\n\r\nIt was also flexible
    enough, open enough (view source) and discussed openly to evolve as necessary."
---
<p><a href="http://www.flickr.com/photos/gorbould/3531940727"><img style="float:right; hspace=5px" src="http://farm3.static.flickr.com/2448/3531940727_610dbf68de_m.jpg" width="240" height="160" /></a></p>
<p>Part 3 in looking at the current state of GeoWeb Standards. See the <a href="http://highearthorbit.com/geoweb-standards-intro/">introduction here</a>.</p>
<p>It's time to take a hard look across the board at where we're coming up short and issues that need to be addressed. One way to summarize:<br /></p>
<blockquote><p>
  GeoRSS, KML, and GeoJSON are the itching powder, squirting ink pen, and dribble cup of geodata formats.<br /><br />
  - <a href="http://highearthorbit.com/geoweb-standards-your-thoughts/#comment-266090">Sean Gillies</a><br />
</blockquote></p>
<p>Sean is definitely known for his candor, and his viewpoint definitely has merit. Overall the various formats and standards fulfill various needs, but still don't provide for all use cases, align well with best practices, or make sense to users and developers.</p>
<p>The simplest overall problem with many of these formats, and how they fit into the Web, is that they lack proper web-type descriptions. One primary mechanism that Web clients know how to present data is through the use of MIME-Types. MIME types provide a way for the server to notify clients that the data is in a format such as XML, Text, a PNG Image, and so on. These must be formally registered, but also ad-hoc, or vendor specific, types are commons.</p>
<p>In addition, MIME types allow crawlers and registries to easily record the type of the file in the metadata.</p>
<p>Looking over our list of various GeoWeb standards, it's very easy to identify which formats abide by this and which don't.</p>
<p>Atom, JSON, HTML, and SQLite all provide format specific MIME-Types, allowing clients to easily employ the proper applications. However, none provide a special mechanism for notifying that the data includes geospatial markup. Not necessarily a problem, geo shouldn't be <strong>that</strong> special.</p>
<p>KML is perhaps the only format that has a geospatial specific MIME-type. However, despite it now being an OGC standard, the <a href="http://code.google.com/apis/kml/documentation/kml_tut.html#kml_server" title="KML Tutorial - KML - Google Code">MIME Type</a> is still the vendor specific: <code>application/vnd.google-earth.kml+xml</code>. However, KML was particulary ingenious in also providing for the compressed, or zipped, format as a unique MIME-type: <code>vnd.google-earth.kmz</code>.</p>
<p>GML is just XML, so that is entirely not useful in notifying a client that it should try and pass this onto a geo-enabled application. And Shapefiles are agglomeration of multiple files, and even zipped up are only marked as compressed files.</p>
<p>More broadly in services, the OGC has a mime type for service descriptions and responses: <code>application/vnd.ogc.wms_xml</code>, though errors have their own MIME-types: <code>application/vnd.ogc.se_xml</code>.</p>
<p>OpenSearch has a special MIME Type, and obviously Tiles and Image files have MIME-types.</p>
<h3>Doesn't matter if you can't download it</h3></p>
<p>Another major issues facing many of the GeoWeb formats is their file size. Generally, the web bounces back and forth between disregarding sizes due to assumed, ubiquitous high-speed and reliable connectivity, and trying to speed up pages. But even more important is the fact that many potential users don't have access to high-speed internet and so their is a huge difference between 10k and 100k or 1MB of data.</p>
<p>To compare the sizes, I took a relatively large dataset from GeoCommons, <a href="http://%EF%AC%81nder.geocommons.com/overlays/3201">Statistics Canada, Land and freshwater area, Canada, 2005</a> and exported it in a variety of formats, both uncompressed, and compressed via standard zip algorithms.</p>
<table summary="Full, and compressed file sizes of several popular GeoWeb formats">
<thead>
<tr>
<th>Format</th></p>
<th>Size</th></p>
<th>Zipped</th><br />
    </tr><br />
  </thead></p>
<tbody>
<tr>
<td>CSV</td></p>
<td>1.3 KB</td></p>
<td></td><br />
    </tr></p>
<tr>
<td>Shapefile</td></p>
<td>5.4 MB</td></p>
<td>3.6 MB</td><br />
    </tr></p>
<tr>
<td>GeoRSS</td></p>
<td>3.3 MB</td></p>
<td>1.1 MB</td><br />
    </tr></p>
<tr>
<td>KML</td></p>
<td>7.3 MB</td></p>
<td>2.4 MB</td><br />
    </tr></p>
<tr>
<td>Spatialite</td></p>
<td>5.4 MB</td></p>
<td>3.6 MB</td><br />
    </tr></p>
<tr>
<td>JSON</td></p>
<td>7.9 MB</td></p>
<td>2.3 MB</td><br />
    </tr><br />
  </tbody><br />
</table></p>
<p>CSV just includes latitude and longitude columns of the centroid - so obviously not fully representative. An option would be to include the EWKB in a column for the full geometry - but that is far from any kind of 'standard' that other tools would know how to intepret.</p>
<p>Perhaps most surprising from these results are that JSON is so large. Unfortunately, the syntax for complex geometries requires a lot of syntax that adds up in representing polygonal data.</p>
<h3>Linkability, Durability, and Discoverability</h3></p>
<p>Moving past purely file format and data type specifications brings up the issue of discoverability and linkability in GeoWeb standards. The Web is more than a list of documents that mention resources, but that they can actually link to <strong>durable</strong> endpoints that can be resolved, queried, accessed, and parsed.</p>
<p>Non-web native formats have no concept of linking. CSV, Shapefiles, and SQLite contain data, but no links. By contrast, Atom, GML, and KML are chock-full of links, although not always used to great effect. JSON can contain links, but without a schema, who knows what the link means.</p>
<p>Obviously the best model to follow here is HTML, which provides automatic links to feeds, OpenSearch description documents, pages, media, styles, and scripts.</p>
<p>However, what happens when a resource disappears and is no longer resolvable? How do you know where else to get another version of the same data, and is it the same data? This is becoming a big problem in the larger web, made more problematic by the use of <a href="http://joshua.schachter.org/2009/04/on-url-shorteners.html" title="joshua's blog: on url shorteners">URL shorteners</a>, but also especially disconcerting when it affects the provenance and accuracy of geospatial data.</p>
<h3>But without Complexity</h3></p>
<p>While linkability, durability, and discoverability are vital to GeoWeb standards, the cost of complexity inhibits adoption and probability of support.</p>
<p>This is a long argument in many circles - often made more difficult by practitioners that have been working in a field for years or decades and consider the most opaque formats or concepts commonplace. Look to the OWL/RDF/SemanticWeb space for an example of how there is a mismatch between proponents and the general public.</p>
<p>A standard needs to have clear value to developers and users for it to even begin to be considered. No one is going to dive into a dense specification of a format without even knowing why they would want to use it or how it fits into workflows and architecture.</p>
<p>And complexity can also surface in small ways - inconsistant capitalization of element names (you know who you are KML), or by supporting a plethora of similar, but different flavors making it unclear which to use (GeoRSS).</p>
<h3>Tools</h3></p>
<p>In this last section of the overall problems we're facing with GeoWeb standards, the most prevalent, and easy to address, is the lack of tools that interact and convert between these formats. Really, formats don't matter to users - they have data from one source such as their camera, PND, blog posts, Government agency, etc. and they want to do something with it like understand what's going on around them, find their favorite restaurant, save the rainforest, provide services, get their car fixed, or just share stories with their family.</p>
<p>Easy to use, engaging, and data agnostic tools are vital for adoption of any formats. Again you only have to look as far as KML's meteoric rise from application specific format to perhaps the most ubiquitous, and growing, GeoWeb standard due to the compelling reason of "I want to see my house and things going on around the world".</p>
<p>Why do none of the major RSS news readers really support GeoRSS? Every site should offer KML and Atom output of their data. Mobile devices should allow me to open in whatever mapping interface or app any of my data from any of my services.</p>
<h3>Missing Middle Ground</h3></p>
<p><a href="http://highearthorbit.com/wp-content/uploads/2009/08/GeoWeb-Standards-Missing-Middle-Ground.jpg"><img src="http://highearthorbit.com/wp-content/uploads/2009/08/GeoWeb-Standards-Missing-Middle-Ground-tm.jpg" width="400" height="116" alt="GeoWeb Standards - Missing Middle Ground.jpg" style="padding-top:5px; padding-bottom:5px; padding-left:5px;" /></a></p>
<p>Amongst the plethora of formats, we're really missing some middle ground. Each of these formats are quite independent and unique of one another, with little cross pollination and linking occuring.</p>
<ul>
<li>Why can't my KML file link to Atom updates and also to other formats?</li>
<li>Can OpenSearch describe my tile pyramid?</li>
<li>How do I describe my path through life, media, events, places I've lived, worked, and people I've known?</li><br />
</ul></p>
<p>We too easily get caught either in this "this format must solve all possible problems", or "it's good enough so why change it". In between we need to converge to understand use cases, and how these formats and specifications can cross various barriers - connecting the experts with the amateurs, the citizens and the authorities, one with another.<br /></p>
<p>GeoWeb Standards Series</p>
<ol>
<li><span style="font-family: 'Lucida Grande', sans-serif; font-size: medium;"><a href="http://highearthorbit.com/geoweb-standards-intro//" title="HighEarthOrbit: GeoWeb standards, where we are" style="text-decoration: underline; color: #003366;">Introduction</a></span></li>
<li><span style="font-family: 'Lucida Grande', sans-serif; font-size: medium;"><a href="http://highearthorbit.com/geoweb-standards-where-we-are/" title="HighEarthOrbit: GeoWeb standards, where we are" style="text-decoration: underline; color: #003366;">Where We Are</a></span></li>
<li><span style="font-family: 'Lucida Grande', sans-serif; font-size: medium;">Problems</span></li><br />
</ol></p>
